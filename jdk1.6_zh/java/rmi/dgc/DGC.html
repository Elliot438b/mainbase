<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0-beta2) on Fri Mar 09 12:49:50 CST 2007 -->
<META http-equiv="Content-Type" content="text/html; charset=gb2312">
<TITLE>
DGC (Java 2 Platform SE 6)
</TITLE>

<META NAME="keywords" CONTENT="概述, Java<sup><font size=-2>TM</font></sup> 2 Platform Standard Edition 6<br>API 开发人员文档">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DGC (Java 2 Platform SE 6)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DGC.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Java<sup><font size=-2>TM</font></sup>&nbsp;2&nbsp;Platform<br>Standard&nbsp;Ed. 6</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;上一个类&nbsp;
&nbsp;<A HREF="../../../java/rmi/dgc/Lease.html" title="java.rmi.dgc 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?java/rmi/dgc/DGC.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="DGC.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
java.rmi.dgc</FONT>
<BR>
接口 DGC</H2>
<DL>
<DT><B>所有超级接口：</B> <DD><A HREF="../../../java/rmi/Remote.html" title="java.rmi 中的接口">Remote</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>DGC</B><DT>extends <A HREF="../../../java/rmi/Remote.html" title="java.rmi 中的接口">Remote</A></DL>
</PRE>

<P>
DGC 抽象用于分布式垃圾回收算法的服务器端。此接口包含了两个方法：dirty 和 clean。当一个远程引用在客户机（客户机由其 VMID 表示）被解组时，则进行一次脏 (dirty) 调用。当客户机上不存任何针对远程引用的更多引用时，则进行一次相应的洁 (clean) 调用。一次失败的脏调用必须安排一次强洁调用，这样调用的序列号才能保持，以检测未来由分布式垃圾回收器接收的无序调用。针对远程对象的引用由保持该引用的客户机租借一段时间。租借期从接收到脏调用时开始。对租借进行续期是客户机的职责，其方式是：在租借期满之前，在客户机保持的远程引用上进行附加的脏调用。如果客户机在期满之前没有对租借进行续期，则分式布垃圾回收器假定远程对象已不再为该客户机所保持。
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/rmi/dgc/DGC.html#clean(java.rmi.server.ObjID[], long, java.rmi.dgc.VMID, boolean)">clean</A></B>(<A HREF="../../../java/rmi/server/ObjID.html" title="java.rmi.server 中的类">ObjID</A>[]&nbsp;ids,
      long&nbsp;sequenceNum,
      <A HREF="../../../java/rmi/dgc/VMID.html" title="java.rmi.dgc 中的类">VMID</A>&nbsp;vmid,
      boolean&nbsp;strong)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;洁调用从 'ids' 指示的每个远程对象的引用列表中移除 'vmid'。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../java/rmi/dgc/Lease.html" title="java.rmi.dgc 中的类">Lease</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../java/rmi/dgc/DGC.html#dirty(java.rmi.server.ObjID[], long, java.rmi.dgc.Lease)">dirty</A></B>(<A HREF="../../../java/rmi/server/ObjID.html" title="java.rmi.server 中的类">ObjID</A>[]&nbsp;ids,
      long&nbsp;sequenceNum,
      <A HREF="../../../java/rmi/dgc/Lease.html" title="java.rmi.dgc 中的类">Lease</A>&nbsp;lease)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;脏调用为（与包含在数组 'ids' 中的对象标识符关联的）远程对象引用请求租借。</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="dirty(java.rmi.server.ObjID[], long, java.rmi.dgc.Lease)"><!-- --></A><H3>
dirty</H3>
<PRE>
<A HREF="../../../java/rmi/dgc/Lease.html" title="java.rmi.dgc 中的类">Lease</A> <B>dirty</B>(<A HREF="../../../java/rmi/server/ObjID.html" title="java.rmi.server 中的类">ObjID</A>[]&nbsp;ids,
            long&nbsp;sequenceNum,
            <A HREF="../../../java/rmi/dgc/Lease.html" title="java.rmi.dgc 中的类">Lease</A>&nbsp;lease)
            throws <A HREF="../../../java/rmi/RemoteException.html" title="java.rmi 中的类">RemoteException</A></PRE>
<DL>
<DD>脏调用为（与包含在数组 'ids' 中的对象标识符关联的）远程对象引用请求租借。该 'lease' 包含了客户机的唯一 VM 标识符 (VMID) 和一个请求的租期。针对从本地 VM 中导出的每个远程对象，垃圾回收器维护了一个引用列表 - 保持对其引用的客户机列表。如果授予租期，垃圾回收器则为 'ids' 指示的每个远程对象添加客户机 VMID 到引用列表。'sequenceNum' 参数是一个用于检测和丢弃对垃圾回收器最近调用的序号。针对垃圾回收器的每次后续调用，该序号应该总是增加的。有些客户机不能生成 VMID，因为 VMID 是一个包含主机地址的通用唯一标识符，而有些客户机由于安全限制无法获取主机地址。在这种情况下，客户机可以使用一个为 null 的 VMID，并且分布式垃圾回收器为客户机赋予一个 VMID。脏调用返回一个包含所使用 VMID 和授予远程引用租期（服务器可能决定授予一个比客户机所请求更小的租期）的 Lease 对象。客户机必须使用垃圾回收器所使用的 VMID，以便当客户机删除远程对象引用时进行相应的洁调用。

客户机 VM 仅需为每个在 VM 中引用的远程引用进行一次初始脏调用（即使它对同一个远程对象持有多个引用）。客户机还必须在租借过期之前进行一次脏调用，以便对远程服务器上的租借进行续期。当客户机不再具有对特定远程对象的任何引用时，它必须为与此引用关联的对象 ID 安排一次洁调用。
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>ids</CODE> - 调用客户机进行引用时要标记的对象 ID<DD><CODE>sequenceNum</CODE> - 序号<DD><CODE>lease</CODE> - 请求的租期
<DT><B>返回：</B><DD>授予的租期
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../../java/rmi/RemoteException.html" title="java.rmi 中的类">RemoteException</A></CODE> - 如果脏调用失败</DL>
</DD>
</DL>
<HR>

<A NAME="clean(java.rmi.server.ObjID[], long, java.rmi.dgc.VMID, boolean)"><!-- --></A><H3>
clean</H3>
<PRE>
void <B>clean</B>(<A HREF="../../../java/rmi/server/ObjID.html" title="java.rmi.server 中的类">ObjID</A>[]&nbsp;ids,
           long&nbsp;sequenceNum,
           <A HREF="../../../java/rmi/dgc/VMID.html" title="java.rmi.dgc 中的类">VMID</A>&nbsp;vmid,
           boolean&nbsp;strong)
           throws <A HREF="../../../java/rmi/RemoteException.html" title="java.rmi 中的类">RemoteException</A></PRE>
<DL>
<DD>洁调用从 'ids' 指示的每个远程对象的引用列表中移除 'vmid'。序号用于检测最近的洁调用。如果参数 'strong' 为 true，则洁调用是一次失败的脏调用的结果，因此，应该记住客户机 'vmid' 的序号。
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>ids</CODE> - 调用客户机取消引用时要标记的对象 ID<DD><CODE>sequenceNum</CODE> - 序号<DD><CODE>vmid</CODE> - 客户机 VMID<DD><CODE>strong</CODE> - 进行&ldquo;强&rdquo;洁调用
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../../java/rmi/RemoteException.html" title="java.rmi 中的类">RemoteException</A></CODE> - 如果洁调用失败</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DGC.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Java<sup><font size=-2>TM</font></sup>&nbsp;2&nbsp;Platform<br>Standard&nbsp;Ed. 6</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;上一个类&nbsp;
&nbsp;<A HREF="../../../java/rmi/dgc/Lease.html" title="java.rmi.dgc 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?java/rmi/dgc/DGC.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="DGC.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font size="-1"><a href="http://java.sun.com/cgi-bin/bugreport.cgi">提交错误或意见</a><p>版权所有 2008 Sun Microsystems, Inc. 保留所有权利。请遵守<a href="http://openjdk.java.net/legal/gplv2+ce.html">GNU General Public License, version 2 only</a>。</font>
</BODY>
</HTML>
